# 85 Maximal Rectangle

Given a rows x cols binary matrix filled with 0's and 1's, find the largest
rectangle containing only 1's and return its area.

---

The maximal rectangle of the given binary matrix would be the cumulative
maximum area under the histogram which are generated by iterating on the given
matrix row after another. To determine the maximum area of a histogram on the
row, we use stack to maintain the cumulative list of indicies where heights are
greater than the current height. Hence, we we iterate on the histogram, we can
pop until we encounter an index which is smaller than the current to find the
maximum area thus far under current index. This is repeated until end of the
histogram.

---

Python:

```python

class Solution:
    def maxHist(self, hist):
        stack = [0]
        hist = [0] + hist + [0]
        totalArea = 0

        for i, num in enumerate(hist[1:], 1):
            while stack and hist[stack[-1]] >= num:
                h = hist[stack.pop()]
                w = i - stack[-1] - 1
                totalArea = max(totalArea, h * w)
            stack.append(i)

        return totalArea

    def maxRect(self, matrix):
        if not matrix or not matrix[0]:
            return 0
        
        m, n, totalArea = len(matrix), len(matrix[0]), 0
        hist = [0] * (n)

        for i in range(m):
            for j in range(n):
                hist[j] = hist[j] + 1 if hist[j] else 0
            totalArea = max(totalArea, self.maxHist(hist))

        return totalArea
```
